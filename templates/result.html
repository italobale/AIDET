{% extends 'base.html' %}

{% block content %}

  <div class="w3-row-padding">
      
    <div class="w3-col m6">
      <div class="w3-card" id="inform">

        <div class="w3-container w3-margin-top w3-margin-bottom">
          <h3>Evaluate Single Diamond</h3>
        
          <form action="/result" method="POST">

          <div class="w3-row-padding w3-margin-bottom">
            <div class="w3-third">
              <label for="shape"><i class="fa fa-diamond"></i> Shape</label>
              <select class="w3-select" id="shape" name="shape">
                <option value="{{shape}}" selected>{{shape}}</option>
                <option value="ROUND">ROUND</option>
                <option value="PRINCESS">PRINCESS</option>
                <option value="CUSHION">CUSHION</option>
                <option value="OVAL">OVAL</option>
                <option value="EMERALD">EMERALD</option>
                <option value="HEART">HEART</option>
                <option value="PEAR">PEAR</option>
                <option value="MARQUISE">MARQUISE</option>
                <option value="ASSCHER">ASSCHER</option>
                <option value="RADIANT">RADIANT</option>
                <option value="DROP">DROP</option>
                <option value="BAGUETTE">BAGUETTE</option>
                <option value="TRILLIANT">TRILLIANT</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="carat"><i class="fa fa-balance-scale"></i> Carats</label>
              <input class="w3-input w3-border" name="carat" step=".01" type="number" value="{{carat}}">
            </div>
            <div class="w3-third">
              <br>
              <br>
              <br>
            </div>
            <div class="w3-third">
              <label for="cut"><i class="fa fa-diamond"></i> Cut</label>
              <select class="w3-select" id="cut" name="cut">
                <option value="{{cut}}" selected>{{cut}}</option>
                <option value="EX">Ideal/Excellent</option>
                <option value="VG">Very Good</option>
                <option value="GO">Good</option>
                <option value="FA">Fair</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="color"><i class="fa fa-diamond"></i> Color</label>
              <select class="w3-select" id="color" name="color">
                <option value="{{color}}" selected>{{color}}</option>
                <option value="D">D</option>
                <option value="E">E</option>
                <option value="F">F</option>
                <option value="G">G</option>
                <option value="H">H</option>
                <option value="I">I</option>
                <option value="J">J</option>
                <option value="K">K</option>
                <option value="L">L</option>
                <option value="M">M</option>
                <option value="N">N</option>
                <option value="O">O</option>
                <option value="P">P</option>
                <option value="Q">Q</option>
                <option value="R">R</option>
                <option value="S">S</option>
                <option value="T">T</option>
                <option value="U">U</option>
                <option value="V">V</option>
                <option value="W">W</option>
                <option value="X">X</option>
                <option value="Y">Y</option>
                <option value="Z">Z</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="clarity"><i class="fa fa-diamond"></i> Clarity</label>
              <select class="w3-select" id="clarity" name="clarity">
                <option value="{{clarity}}" selected>{{clarity}}</option>
                <option value="FL">FL</option>
                <option value="IF">IF</option>
                <option value="VVS1">VVS1</option>
                <option value="VVS2">VVS2</option>
                <option value="VS1">VS1</option>
                <option value="VS2">VS2</option>
                <option value="SI1">SI1</option>
                <option value="SI2">SI2</option>
                <option value="I1">I1</option>
                <option value="I2">I2</option>
                <option value="I3">I3</option>
              </select>             
            </div>
            <div class="w3-third">
              <label><i class="fa fa-diamond"></i> Width (mm)</label>
              <input class="w3-input w3-border" name="width" step=".01" type="number" value="{{width}}">
            </div>
            <div class="w3-third">
              <label><i class="fa fa-diamond"></i> Length (mm)</label>
              <input class="w3-input w3-border" name="length" step=".01" type="number" value="{{length}}">
            </div>
            <div class="w3-third">
              <label><i class="fa fa-diamond"></i> Height (mm)</label>
              <input class="w3-input w3-border" name="height" step=".01" type="number" value="{{height}}">
            </div>
            <div class="w3-third">
              <label><i class="fa fa-diamond"></i> Depth (%)</label>
              <input class="w3-input w3-border" name="depth" step=".1" type="number" value="{{depth}}">
            </div>
            <div class="w3-third">
              <label><i class="fa fa-diamond"></i> Table (%)</label>
              <input class="w3-input w3-border" name="table" step=".1" type="number" value="{{table}}">
            </div>
            <div class="w3-third">
              <br>
              <br>
              <br>
            </div>
            <div class="w3-third">
              <label for="fluorescence"><i class="fa fa-diamond"></i> Fluorescence</label>
              <select class="w3-select" id="fluorescence" name="fluorescence">
                <option value="{{fluorescence}}" selected>{{fluorescence}}</option>
                <option value="NO">NONE</option>
                <option value="FA">Faint</option>
                <option value="M">Medium</option>
                <option value="ST">Strong</option>
                <option value="VS">Very Strong</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="polish"><i class="fa fa-diamond"></i> Polish</label>
              <select class="w3-select" id="polish" name="polish">
                <option value="{{polish}}" selected>{{polish}}</option>
                <option value="EX">Ideal/Excellent</option>
                <option value="VG">Very Good</option>
                <option value="GO">Good</option>
                <option value="FA">Fair</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="symmetry"><i class="fa fa-diamond"></i> Symmetry</label>
              <select class="w3-select" id="symmetry" name="symmetry">
                <option value="{{symmetry}}" selected>{{symmetry}}</option>
                <option value="EX">Ideal/Excellent</option>
                <option value="VG">Very Good</option>
                <option value="GO">Good</option>
                <option value="FA">Fair</option>
              </select>
            </div>
            <div class="w3-third">
              <label for="certificate"><i class="fa fa-certificate"></i> Certificate</label>
              <select class="w3-select" id="certificate" name="certificate">
                <option value="{{certificate}}" selected>{{certificate}}</option>
                <option value="GIA">GIA</option>
                <option value="AGS">AGS</option>
                <option value="EGL">EGL</option>
                <option value="IGI">IGI</option>
                <option value="HRD">HRD</option>
                <option value="NONE">NONE</option>
              </select>
            </div>
            <div class="w3-third">
              <br>
              <br>
              <br>
            </div>
            <div class="w3-third">
              <br>
              <br>
              <br>
            </div>
            <div class="w3-half">
              <label><i class="fa fa-calculator"></i> Price</label>
              <button class="w3-button w3-block w3-black" type="submit" value="Estimate Price">Estimate Price</button>
            </div>
        </div>
            
          </form>

        </div>
        <div class="w3-container w3-margin-top w3-margin-bottom">   
          <h3>Estimated Value: {{"{:,}".format(preds)}} EUR</h3>
          <svg width="500" height="80">
            <rect x="0"  y="30" rx="20" ry="20" width="200" height="30" style="fill:#4A8D12"/>
            <rect x="200" y="30" rx="20" ry="20" width="200" height="30" style="fill:#77006B"/>
            <rect x="50" y="30" rx="20" ry="20" width="150" height="30" style="fill:#D2FED1"/>
            <rect x="150" y="30" rx="20" ry="20" width="200" height="30" style="fill:#FFE1FC"/>
            <rect x="100" y="30" rx="20" ry="20" width="200" height="30" style="fill:#FBFBFB"/>
            <text text-anchor="middle" x="60"  y="20" fill="#4A8D12">{{"{:,}".format( (preds - preds*0.25)|round(-2)|int )}}</text>
            <text text-anchor="middle" x="200" y="20">{{"{:,}".format(preds)}}</text>
            <text text-anchor="middle" x="350" y="20" fill="#77006B">{{"{:,}".format( (preds + preds*0.25)|round(-2)|int )}}</text>
            <text text-anchor="middle" x="130" y="20" fill="grey">{{"{:,}".format( (preds - preds*0.1)|round(-2)|int )}}</text>
            <text text-anchor="middle" x="280" y="20" fill="grey">{{"{:,}".format( (preds + preds*0.1)|round(-2)|int )}}</text>
            <text text-anchor="middle" x="200" y="50" fill="black">Fair</text>
            <text text-anchor="middle" x="370" y="50" fill="white">Hi</text>
            <text text-anchor="middle" x="30" y="50" fill="white">Lo</text>
            Sorry, your browser does not support inline SVG.
          </svg>
        </div>
      </div>
    </div>
    <div class="w3-col m6">
      <div class="w3-card" id="plot">
        <div class="w3-container w3-margin-top w3-margin-bottom">
          <h3>Current Online Offers</h3>
            <img src="../static/images/preds_fairness.png" alt="online_diamonds" class="responsive_im">

            <h3>Similar Diamonds</h3>

            <table class="sortable w3-table-all w3-margin-bottom" style="cursor:pointer">
              <tr>
                <th>ID</th>
                <th>Shape</th>
                <th>Carats</th>
                <th>Color</th>
                <th>Clarity</th>
                <th>Price</th>
                <th>Value</th>
                <th>%Diff</th>
              </tr>
              <tr>
                <td>DIBR-00FA-DS2X-2EO7</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>D</td>
                <td>SI2</td>
                <td>131984</td>
                <td>138258</td>
                <td>+4.8</td>
              </tr>
              <tr>
                <td>DIBR-00FA-EIFX-2WC2</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>E</td>
                <td>IF</td>
                <td>369248</td>
                <td>348528</td>
                <td>-5.6</td>
              </tr>
              <tr>
                <td>DIBR-00FA-GV2X-028M</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>G</td>
                <td>VS2</td>
                <td>215527</td>
                <td>206834</td>
                <td>-4.0</td>
              </tr>
              <tr>
                <td>DIBR-00FA-GW1X-3FZU</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>G</td>
                <td>VVS1</td>
                <td>190426</td>
                <td>194569</td>
                <td>+2.2</td>
              </tr>
              <tr>
                <td>DIBR-00FA-HIFX-1KI1</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>H</td>
                <td>IF</td>
                <td>195293</td>
                <td>200973</td>
                <td>+2.9</td>
              </tr>
              <tr>
                <td>DIBR-00FA-IV1X-3EIT</td>
                <td>ROUND</td>
                <td>5.5</td>
                <td>I</td>
                <td>VS1</td>
                <td>149017</td>
                <td>143008</td>
                <td>-4.0</td>
              </tr>           
            </table>
        </div>
      </div>
    </div>
  </div>

<script src="static/js/sorttable.js"></script>

{% endblock %}